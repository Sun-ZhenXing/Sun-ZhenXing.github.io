import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as c,c as i,b as e,a,w as n,e as r,d as s}from"./app-DhX54nll.js";const l={},m=e("h1",{id:"2-使用-git-钩子",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#2-使用-git-钩子"},[e("span",null,"2. 使用 Git 钩子")])],-1),u={class:"table-of-contents"},d=r(`<h2 id="1-安装-pre-commit-钩子" tabindex="-1"><a class="header-anchor" href="#1-安装-pre-commit-钩子"><span>1. 安装 pre-commit 钩子</span></a></h2><p><a href="https://pre-commit.com/" target="_blank" rel="noopener noreferrer">pre-commit</a> 是一个 Python 编写的工具，可以在各种项目中管理和维护多个 Git 钩子（除了 Python 项目，各种项目都可以使用）。</p><p>下面安装 <code>pre-commit</code>：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pip <span class="token function">install</span> pre-commit
</code></pre></div><p>或者使用 <code>pipx</code> 安装，这也是推荐的安装方式：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pipx <span class="token function">install</span> pre-commit
</code></pre></div><p>可以使用 Homebrew 安装：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>brew <span class="token function">install</span> pre-commit
</code></pre></div><h2 id="2-快速开始" tabindex="-1"><a class="header-anchor" href="#2-快速开始"><span>2. 快速开始</span></a></h2><p><code>pre-commit</code> 的使用非常简单，只需要在项目根目录下创建一个 <code>.pre-commit-config.yaml</code> 文件，然后在其中指定需要运行的钩子即可。</p><p>你可以使用 <code>pre-commit sample-config</code> 生成一个基本配置。</p><p>下面示例使用 <code>black</code> 格式化项目代码：</p><div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">repos</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">repo</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/pre<span class="token punctuation">-</span>commit/pre<span class="token punctuation">-</span>commit<span class="token punctuation">-</span>hooks
  <span class="token key atrule">rev</span><span class="token punctuation">:</span> v2.3.0
  <span class="token key atrule">hooks</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> check<span class="token punctuation">-</span>yaml
  <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> end<span class="token punctuation">-</span>of<span class="token punctuation">-</span>file<span class="token punctuation">-</span>fixer
  <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> trailing<span class="token punctuation">-</span>whitespace
<span class="token punctuation">-</span> <span class="token key atrule">repo</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/psf/black
  <span class="token key atrule">rev</span><span class="token punctuation">:</span> 22.10.0
  <span class="token key atrule">hooks</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> black
</code></pre></div><p>通过 <a href="https://pre-commit.com/hooks.html" target="_blank" rel="noopener noreferrer">官方文档：hooks</a> 查看所有可用的钩子。</p><p>下面安装钩子：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pre-commit <span class="token function">install</span>
</code></pre></div><p>在进行任何更改时，都可以运行钩子：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pre-commit run --all-files
</code></pre></div><blockquote><p>还有一些代码格式化工具，如 <a href="https://github.com/astral-sh/ruff" target="_blank" rel="noopener noreferrer"><code>ruff</code></a> 也提供了 <code>pre-commit</code> 钩子 <a href="https://github.com/astral-sh/ruff-pre-commit" target="_blank" rel="noopener noreferrer"><code>ruff-pre-commit</code></a>。</p></blockquote>`,19);function h(k,g){const t=p("router-link");return c(),i("div",null,[m,e("nav",u,[e("ul",null,[e("li",null,[a(t,{to:"#1-安装-pre-commit-钩子"},{default:n(()=>[s("1. 安装 pre-commit 钩子")]),_:1})]),e("li",null,[a(t,{to:"#2-快速开始"},{default:n(()=>[s("2. 快速开始")]),_:1})])])]),d])}const y=o(l,[["render",h],["__file","2.git-hooks.html.vue"]]),_=JSON.parse('{"path":"/posts/python/notebook/engineering/2.git-hooks.html","title":"2. 使用 Git 钩子","lang":"zh-CN","frontmatter":{"description":"2. 使用 Git 钩子 1. 安装 pre-commit 钩子 pre-commit 是一个 Python 编写的工具，可以在各种项目中管理和维护多个 Git 钩子（除了 Python 项目，各种项目都可以使用）。 下面安装 pre-commit： 或者使用 pipx 安装，这也是推荐的安装方式： 可以使用 Homebrew 安装： 2. 快速开始 ...","head":[["meta",{"property":"og:url","content":"https://blog.alexsun.top/posts/python/notebook/engineering/2.git-hooks.html"}],["meta",{"property":"og:site_name","content":"鸭梨"}],["meta",{"property":"og:title","content":"2. 使用 Git 钩子"}],["meta",{"property":"og:description","content":"2. 使用 Git 钩子 1. 安装 pre-commit 钩子 pre-commit 是一个 Python 编写的工具，可以在各种项目中管理和维护多个 Git 钩子（除了 Python 项目，各种项目都可以使用）。 下面安装 pre-commit： 或者使用 pipx 安装，这也是推荐的安装方式： 可以使用 Homebrew 安装： 2. 快速开始 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-27T04:16:18.000Z"}],["meta",{"property":"article:author","content":"Alex Sun"}],["meta",{"property":"article:modified_time","content":"2024-05-27T04:16:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"2. 使用 Git 钩子\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-27T04:16:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Alex Sun\\",\\"url\\":\\"https://blog.alexsun.top/\\"}]}"]]},"headers":[{"level":2,"title":"1. 安装 pre-commit 钩子","slug":"1-安装-pre-commit-钩子","link":"#1-安装-pre-commit-钩子","children":[]},{"level":2,"title":"2. 快速开始","slug":"2-快速开始","link":"#2-快速开始","children":[]}],"git":{"createdTime":1716783378000,"updatedTime":1716783378000,"contributors":[{"name":"Sun-ZhenXing","email":"1006925066@qq.com","commits":1}]},"readingTime":{"minutes":0.99,"words":297},"filePathRelative":"posts/python/notebook/engineering/2.git-hooks.md","localizedDate":"2024年5月27日","excerpt":"\\n\\n<h2>1. 安装 pre-commit 钩子</h2>\\n<p><a href=\\"https://pre-commit.com/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">pre-commit</a> 是一个 Python 编写的工具，可以在各种项目中管理和维护多个 Git 钩子（除了 Python 项目，各种项目都可以使用）。</p>\\n<p>下面安装 <code>pre-commit</code>：</p>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code>pip <span class=\\"token function\\">install</span> pre-commit\\n</code></pre></div>","autoDesc":true}');export{y as comp,_ as data};
