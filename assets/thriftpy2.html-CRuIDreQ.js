import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,o as d,c as g,b as i,a as e,w as t,e as k,d as s}from"./app-mQJDQ8JG.js";const y={},o=k('<h1 id="thriftpy2---thrift-rpc-框架的高性能-python-实现" tabindex="-1"><a class="header-anchor" href="#thriftpy2---thrift-rpc-框架的高性能-python-实现"><span>thriftpy2 - Thrift RPC 框架的高性能 Python 实现</span></a></h1><div class="no-link"><p><a href="https://travis-ci.com/Thriftpy/thriftpy2" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.com/Thriftpy/thriftpy2.svg?branch=develop" alt="alt" loading="lazy"></a><br><a href="https://codecov.io/gh/Thriftpy/thriftpy2" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/codecov/c/github/Thriftpy/thriftpy2.svg" alt="alt" loading="lazy"></a><br><a href="https://pypi.org/project/thriftpy2/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/pypi/dm/thriftpy2.svg" alt="alt" loading="lazy"></a><br><a href="https://pypi.org/project/thriftpy2/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/pypi/v/thriftpy2.svg" alt="alt" loading="lazy"></a><br><a href="https://pypi.org/project/thriftpy2/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/pypi/pyversions/thriftpy2.svg" alt="alt" loading="lazy"></a><br><a href="https://pypi.org/project/thriftpy2/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/pypi/implementation/thriftpy2.svg" alt="alt" loading="lazy"></a></p></div>',2),c={class:"table-of-contents"},B=k(`<h2 id="1-项目简介" tabindex="-1"><a class="header-anchor" href="#1-项目简介"><span>1. 项目简介</span></a></h2><table><thead><tr><th>项目</th><th>信息</th></tr></thead><tbody><tr><td>项目地址</td><td><a href="https://pypi.org/project/thriftpy2/" target="_blank" rel="noopener noreferrer">PyPI</a> | <a href="https://github.com/Thriftpy/thriftpy2" target="_blank" rel="noopener noreferrer">GitHub</a></td></tr><tr><td>官方文档</td><td><a href="https://thriftpy2.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">官方文档</a></td></tr><tr><td>开源协议</td><td>MIT</td></tr><tr><td>Python 版本</td><td>Python 2.7 ~ 3.11</td></tr><tr><td>标签</td><td>RPC、asyncio</td></tr></tbody></table><p>ThriftPy2 是 Thrift RPC 框架的 Python 实现，它是官方 Thrift Python 包的另一个实现，兼容 <code>thriftpy</code>，并且提供了无需编译 <code>.thrift</code> 文件即可直接使用的功能。</p><p>ThriftPy2 的速度比 <code>thriftpy</code> 快许多，这可以从官方的 <a href="https://thriftpy2.readthedocs.io/en/latest/#benchmarks" target="_blank" rel="noopener noreferrer">benchmark</a> 中找到。</p><p>如果你需要使用 ThriftPy2，你需要安装 <code>cython</code> 和 <code>thriftpy2</code>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cython</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> thriftpy2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>由于 ThriftPy2 兼容 <code>thriftpy</code>，所以你可以使用 <code>thriftpy</code> 的方式来使用 ThriftPy2：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> thriftpy2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> thriftpy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="2-快速开始" tabindex="-1"><a class="header-anchor" href="#2-快速开始"><span>2. 快速开始</span></a></h2><p>下面所使用的 Thrift 文件如下：</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">service</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> PingPong</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ping</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>基本示例：</p>`,12),f=i("div",{class:"language-python","data-highlighter":"shiki","data-ext":"python","data-title":"python",style:{"--shiki-light":"#24292e","--shiki-dark":"#abb2bf","--shiki-light-bg":"#fff","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes github-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"from"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2.rpc "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," make_server")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"pingpong_thrift "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"load"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"pingpong.thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#E06C75","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"module_name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"pingpong_thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"class"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#E5C07B"}}," Dispatcher"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#56B6C2"}},"object"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"    def"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}}," ping"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E5C07B","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"self"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"        return"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},' "pong"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"server "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}}," make_server"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(pingpong_thrift.PingPong, "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"Dispatcher"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(), "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},"'127.0.0.1'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}},"6000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"server."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"serve"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"()")])])])],-1),A=i("div",{class:"language-python","data-highlighter":"shiki","data-ext":"python","data-title":"python",style:{"--shiki-light":"#24292e","--shiki-dark":"#abb2bf","--shiki-light-bg":"#fff","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes github-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"from"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2.rpc "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," make_client")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"pingpong_thrift "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"load"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"pingpong.thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#E06C75","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"module_name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"pingpong_thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"client "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}}," make_client"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(pingpong_thrift.PingPong, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},"'127.0.0.1'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}},"6000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#56B6C2"}},"print"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(client."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"ping"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"())")])])])],-1),F=i("p",null,[s("同样支持 "),i("code",null,"asyncio"),s("，使用上述 Thrift 文件，我们可以这样写：")],-1),E=i("div",{class:"language-python","data-highlighter":"shiki","data-ext":"python","data-title":"python",style:{"--shiki-light":"#24292e","--shiki-dark":"#abb2bf","--shiki-light-bg":"#fff","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes github-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," asyncio")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"from"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2.rpc "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," make_aio_server")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"echo_thrift "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"load"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"echo.thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#E06C75","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"module_name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"echo_thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"class"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#E5C07B"}}," Dispatcher"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#56B6C2"}},"object"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"    async"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}}," def"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}}," echo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E5C07B","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"self"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#D19A66","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"param"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(param)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"        await"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," asyncio."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"sleep"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}},"0.1"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"        return"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," param")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"def"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}}," main"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"():")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"    server "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}}," make_aio_server"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"        echo_thrift.EchoService, "),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"Dispatcher"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(), "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},"'127.0.0.1'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}},"6000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"    server."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"serve"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"()")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#E06C75"}}," __name__"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}}," =="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," '__main__'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"    main"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"()")])])])],-1),m=i("div",{class:"language-python","data-highlighter":"shiki","data-ext":"python","data-title":"python",style:{"--shiki-light":"#24292e","--shiki-dark":"#abb2bf","--shiki-light-bg":"#fff","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes github-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," asyncio")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"from"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2.rpc "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," make_aio_client")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"echo_thrift "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," thriftpy2."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"load"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"echo.thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#E06C75","--shiki-light-font-style":"inherit","--shiki-dark-font-style":"italic"}},"module_name"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},'"echo_thrift"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"async"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}}," def"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}}," request"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"():")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"    client "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}}," await"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}}," make_aio_client"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"        echo_thrift.EchoService, "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},"'127.0.0.1'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}},"6000"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"await"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," client."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"echo"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},"'hello, world'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"    client."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"close"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"()")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#E06C75"}}," __name__"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}}," =="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," '__main__'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"    loop "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}}," asyncio."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"get_event_loop"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"    loop."),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"run_until_complete"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#61AFEF"}},"request"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#ABB2BF"}},"())")])])])],-1);function C(D,v){const l=r("router-link"),n=r("CodeTabs");return d(),g("div",null,[o,i("nav",c,[i("ul",null,[i("li",null,[e(l,{to:"#1-项目简介"},{default:t(()=>[s("1. 项目简介")]),_:1})]),i("li",null,[e(l,{to:"#2-快速开始"},{default:t(()=>[s("2. 快速开始")]),_:1})])])]),B,e(n,{id:"93",data:[{id:"Server"},{id:"Client"}]},{title0:t(({value:h,isActive:a})=>[s("Server")]),title1:t(({value:h,isActive:a})=>[s("Client")]),tab0:t(({value:h,isActive:a})=>[f]),tab1:t(({value:h,isActive:a})=>[A]),_:1}),F,e(n,{id:"104",data:[{id:"Server"},{id:"Client"}]},{title0:t(({value:h,isActive:a})=>[s("Server")]),title1:t(({value:h,isActive:a})=>[s("Client")]),tab0:t(({value:h,isActive:a})=>[E]),tab1:t(({value:h,isActive:a})=>[m]),_:1})])}const u=p(y,[["render",C],["__file","thriftpy2.html.vue"]]),T=JSON.parse('{"path":"/posts/python/packages/rpc/thriftpy2.html","title":"thriftpy2 - Thrift RPC 框架的高性能 Python 实现","lang":"zh-CN","frontmatter":{"description":"thriftpy2 - Thrift RPC 框架的高性能 Python 实现 alt alt alt alt alt alt 1. 项目简介 ThriftPy2 是 Thrift RPC 框架的 Python 实现，它是官方 Thrift Python 包的另一个实现，兼容 thriftpy，并且提供了无需编译 .thrift 文件即可直接使用的功能...","head":[["meta",{"property":"og:url","content":"https://blog.alexsun.top/posts/python/packages/rpc/thriftpy2.html"}],["meta",{"property":"og:site_name","content":"鸭梨"}],["meta",{"property":"og:title","content":"thriftpy2 - Thrift RPC 框架的高性能 Python 实现"}],["meta",{"property":"og:description","content":"thriftpy2 - Thrift RPC 框架的高性能 Python 实现 alt alt alt alt alt alt 1. 项目简介 ThriftPy2 是 Thrift RPC 框架的 Python 实现，它是官方 Thrift Python 包的另一个实现，兼容 thriftpy，并且提供了无需编译 .thrift 文件即可直接使用的功能..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://travis-ci.com/Thriftpy/thriftpy2.svg?branch=develop"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-27T04:16:18.000Z"}],["meta",{"property":"article:author","content":"Alex Sun"}],["meta",{"property":"article:modified_time","content":"2024-05-27T04:16:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"thriftpy2 - Thrift RPC 框架的高性能 Python 实现\\",\\"image\\":[\\"https://travis-ci.com/Thriftpy/thriftpy2.svg?branch=develop\\",\\"https://img.shields.io/codecov/c/github/Thriftpy/thriftpy2.svg\\",\\"https://img.shields.io/pypi/dm/thriftpy2.svg\\",\\"https://img.shields.io/pypi/v/thriftpy2.svg\\",\\"https://img.shields.io/pypi/pyversions/thriftpy2.svg\\",\\"https://img.shields.io/pypi/implementation/thriftpy2.svg\\"],\\"dateModified\\":\\"2024-05-27T04:16:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Alex Sun\\",\\"url\\":\\"https://blog.alexsun.top/\\"}]}"]]},"headers":[{"level":2,"title":"1. 项目简介","slug":"1-项目简介","link":"#1-项目简介","children":[]},{"level":2,"title":"2. 快速开始","slug":"2-快速开始","link":"#2-快速开始","children":[]}],"git":{"createdTime":1716783378000,"updatedTime":1716783378000,"contributors":[{"name":"Sun-ZhenXing","email":"1006925066@qq.com","commits":1}]},"readingTime":{"minutes":1.36,"words":408},"filePathRelative":"posts/python/packages/rpc/thriftpy2.md","localizedDate":"2024年5月27日","excerpt":"\\n<!-- markdownlint-disable MD033 -->\\n<div class=\\"no-link\\">\\n<p><a href=\\"https://travis-ci.com/Thriftpy/thriftpy2\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><img src=\\"https://travis-ci.com/Thriftpy/thriftpy2.svg?branch=develop\\" alt=\\"alt\\" loading=\\"lazy\\"></a><br>\\n<a href=\\"https://codecov.io/gh/Thriftpy/thriftpy2\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><img src=\\"https://img.shields.io/codecov/c/github/Thriftpy/thriftpy2.svg\\" alt=\\"alt\\" loading=\\"lazy\\"></a><br>\\n<a href=\\"https://pypi.org/project/thriftpy2/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><img src=\\"https://img.shields.io/pypi/dm/thriftpy2.svg\\" alt=\\"alt\\" loading=\\"lazy\\"></a><br>\\n<a href=\\"https://pypi.org/project/thriftpy2/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><img src=\\"https://img.shields.io/pypi/v/thriftpy2.svg\\" alt=\\"alt\\" loading=\\"lazy\\"></a><br>\\n<a href=\\"https://pypi.org/project/thriftpy2/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><img src=\\"https://img.shields.io/pypi/pyversions/thriftpy2.svg\\" alt=\\"alt\\" loading=\\"lazy\\"></a><br>\\n<a href=\\"https://pypi.org/project/thriftpy2/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><img src=\\"https://img.shields.io/pypi/implementation/thriftpy2.svg\\" alt=\\"alt\\" loading=\\"lazy\\"></a></p>\\n</div>","autoDesc":true}');export{u as comp,T as data};
