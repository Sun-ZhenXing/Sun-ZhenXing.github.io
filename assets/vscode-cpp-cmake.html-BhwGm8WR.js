import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as i,c as r,a as n,b as s,w as t,d as a,e as l}from"./app-C6k5k7Rq.js";const u={},d=n("p",null,"本文介绍 VS Code 配置 C++ CMake 开发环境的方式。",-1),k={class:"table-of-contents"},m=l('<h2 id="1-安装后端" tabindex="-1"><a class="header-anchor" href="#1-安装后端"><span>1. 安装后端</span></a></h2><h2 id="11-编译后端" tabindex="-1"><a class="header-anchor" href="#11-编译后端"><span>1.1 编译后端</span></a></h2><p>Linux 和 Mac 可使用系统的编译后端，也可以安装 Clang 等编译套件。</p><p>可选的后端有：</p><ul><li>系统默认</li><li>Clang</li><li>MinGW</li><li>MSVC（仅 Windows）</li></ul><div class="hint-container tip"><p class="hint-container-title">Windows 选择后端</p><p>Windows 推荐使用 MSVC（Microsoft Visual Studio）作为编译后端，因为 MinGW 对 Windows 支持性不完整，许多库无法支持。MSVC 对 Windows 有完整支持。下面主要介绍 Windows 的环境配置，Linux 与 Mac 只需少量配置即可。</p></div><p>安装 MSVC 编译套件：</p>',7),v={href:"https://visualstudio.microsoft.com/zh-hans/downloads/",target:"_blank",rel:"noopener noreferrer"},h=n("li",null,"安装时选择 C/C++ 的支持",-1),C=n("p",null,[a("安装后确保 VS 的工具包在路径上，类似于 "),n("code",null,"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.29.30133\\bin\\Hostx64\\x64"),a("。")],-1),g=n("h3",{id:"12-cmake",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#12-cmake"},[n("span",null,"1.2 CMake")])],-1),_={href:"https://cmake.org/",target:"_blank",rel:"noopener noreferrer"},b=l(`<div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pip <span class="token function">install</span> cmake
</code></pre></div><p>安装结束后测试 CMake 版本，确保较新即可：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code>cmake <span class="token parameter variable">--version</span>
<span class="token comment"># cmake version 3.24.1</span>
<span class="token comment"># CMake suite maintained and supported by Kitware (kitware.com/cmake).</span>
</code></pre></div><h2 id="2-vs-code-配置" tabindex="-1"><a class="header-anchor" href="#2-vs-code-配置"><span>2. VS Code 配置</span></a></h2><h3 id="21-安装扩展" tabindex="-1"><a class="header-anchor" href="#21-安装扩展"><span>2.1 安装扩展</span></a></h3><p>下面的包可能有变动，只需选择官方的版本即可：</p><ol><li>C/C++ 语言包</li><li>C/C++ 扩展包</li><li>CMake 包</li></ol><p>现在已经可以使用 VS Code 创建/调试 CMake 项目了。</p><h3 id="22-配置设置" tabindex="-1"><a class="header-anchor" href="#22-配置设置"><span>2.2 配置设置</span></a></h3><p><code>.vscode/c_cpp_properties.json</code> 配置文件：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Win32&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;includePath&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;\${default}&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;\${workspaceFolder}/**&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;defines&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;_DEBUG&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;UNICODE&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;_UNICODE&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;windowsSdkVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.0.19044.0&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;compilerPath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.29.30133/bin/Hostx64/x64/cl.exe&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cStandard&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c17&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;cppStandard&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c++17&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;intelliSenseMode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;windows-msvc-x64&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意几个要点：</p><ul><li><code>includePath</code> 为语法检查的 Include，和 <code>CMakeLists.txt</code> 中的 Include 不冲突</li><li><code>windowsSdkVersion</code> 必须是当前 Windows 可用的 SDK 版本</li><li><code>compilerPath</code> 必须在路径（PATH）中</li></ul><h2 id="3-创建项目" tabindex="-1"><a class="header-anchor" href="#3-创建项目"><span>3. 创建项目</span></a></h2><p>新建一个文件夹作为你的项目，并包含 <code>CMakeLists.txt</code>：</p><div class="language-cmake" data-ext="cmake" data-title="cmake"><pre class="language-cmake"><code><span class="token keyword">project</span><span class="token punctuation">(</span>test-cmake<span class="token punctuation">)</span>
<span class="token keyword">cmake_minimum_required</span><span class="token punctuation">(</span><span class="token property">VERSION</span> <span class="token number">3.9</span><span class="token punctuation">)</span>

<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_RUNTIME_OUTPUT_DIRECTORY</span> <span class="token punctuation">\${</span><span class="token variable">CMAKE_CURRENT_SOURCE_DIR</span><span class="token punctuation">}</span>/build<span class="token punctuation">)</span>

<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_BUILD_TYPE</span> Release<span class="token punctuation">)</span>

<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_CXX_STANDARD</span> <span class="token number">17</span><span class="token punctuation">)</span>
<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_CXX_STANDARD_REQUIRED</span> <span class="token boolean">ON</span><span class="token punctuation">)</span>
<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_CXX_EXTENSIONS</span> <span class="token boolean">OFF</span><span class="token punctuation">)</span>

<span class="token keyword">add_executable</span><span class="token punctuation">(</span><span class="token punctuation">\${</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">}</span> src/main.cpp<span class="token punctuation">)</span>
</code></pre></div><p><code>src/main.cpp</code> 是主文件：</p><div class="language-cpp" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Hello, CMake!&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在状态栏选择：</p><ol><li>CMake: Release</li><li>Visual Studio 2019 Release: amd64</li></ol><p>选择后自动配置，如果没有配置可以使用 VS Code 命令 <code>CMake: Configure</code> 进行配置，点击下面 Build 按钮即可生成目标。</p>`,21);function M(q,S){const e=p("router-link"),o=p("ExternalLinkIcon");return i(),r("div",null,[d,n("nav",k,[n("ul",null,[n("li",null,[s(e,{to:"#1-安装后端"},{default:t(()=>[a("1. 安装后端")]),_:1})]),n("li",null,[s(e,{to:"#11-编译后端"},{default:t(()=>[a("1.1 编译后端")]),_:1}),n("ul",null,[n("li",null,[s(e,{to:"#12-cmake"},{default:t(()=>[a("1.2 CMake")]),_:1})])])]),n("li",null,[s(e,{to:"#2-vs-code-配置"},{default:t(()=>[a("2. VS Code 配置")]),_:1}),n("ul",null,[n("li",null,[s(e,{to:"#21-安装扩展"},{default:t(()=>[a("2.1 安装扩展")]),_:1})]),n("li",null,[s(e,{to:"#22-配置设置"},{default:t(()=>[a("2.2 配置设置")]),_:1})])])]),n("li",null,[s(e,{to:"#3-创建项目"},{default:t(()=>[a("3. 创建项目")]),_:1})])])]),m,n("ol",null,[n("li",null,[n("a",v,[a("下载 Visual Studio"),s(o)]),a("，并安装")]),h]),C,g,n("p",null,[a("安装 "),n("a",_,[a("CMake"),s(o)]),a(" 即可，也可以使用 Python 安装 CMake：")]),b])}const V=c(u,[["render",M],["__file","vscode-cpp-cmake.html.vue"]]),w=JSON.parse('{"path":"/posts/envs/vscode-cpp-cmake.html","title":"VS Code 配置 C++ CMake 开发环境","lang":"zh-CN","frontmatter":{"title":"VS Code 配置 C++ CMake 开发环境","date":"2022-12-16T00:00:00.000Z","category":["环境搭建"],"tag":["VS Code","CMake"],"description":"本文介绍 VS Code 配置 C++ CMake 开发环境的方式。 1. 安装后端 1.1 编译后端 Linux 和 Mac 可使用系统的编译后端，也可以安装 Clang 等编译套件。 可选的后端有： 系统默认 Clang MinGW MSVC（仅 Windows） Windows 选择后端 Windows 推荐使用 MSVC（Microsoft V...","head":[["meta",{"property":"og:url","content":"https://blog.alexsun.top/posts/envs/vscode-cpp-cmake.html"}],["meta",{"property":"og:site_name","content":"鸭梨"}],["meta",{"property":"og:title","content":"VS Code 配置 C++ CMake 开发环境"}],["meta",{"property":"og:description","content":"本文介绍 VS Code 配置 C++ CMake 开发环境的方式。 1. 安装后端 1.1 编译后端 Linux 和 Mac 可使用系统的编译后端，也可以安装 Clang 等编译套件。 可选的后端有： 系统默认 Clang MinGW MSVC（仅 Windows） Windows 选择后端 Windows 推荐使用 MSVC（Microsoft V..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-02T16:16:12.000Z"}],["meta",{"property":"article:author","content":"鸭梨"}],["meta",{"property":"article:tag","content":"VS Code"}],["meta",{"property":"article:tag","content":"CMake"}],["meta",{"property":"article:published_time","content":"2022-12-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-02T16:16:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"VS Code 配置 C++ CMake 开发环境\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-12-16T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-02T16:16:12.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"鸭梨\\",\\"url\\":\\"https://github.com/Sun-ZhenXing\\"}]}"]]},"headers":[{"level":2,"title":"1. 安装后端","slug":"1-安装后端","link":"#1-安装后端","children":[]},{"level":2,"title":"1.1 编译后端","slug":"11-编译后端","link":"#11-编译后端","children":[{"level":3,"title":"1.2 CMake","slug":"12-cmake","link":"#12-cmake","children":[]}]},{"level":2,"title":"2. VS Code 配置","slug":"2-vs-code-配置","link":"#2-vs-code-配置","children":[{"level":3,"title":"2.1 安装扩展","slug":"21-安装扩展","link":"#21-安装扩展","children":[]},{"level":3,"title":"2.2 配置设置","slug":"22-配置设置","link":"#22-配置设置","children":[]}]},{"level":2,"title":"3. 创建项目","slug":"3-创建项目","link":"#3-创建项目","children":[]}],"git":{"createdTime":1671179187000,"updatedTime":1709396172000,"contributors":[{"name":"Sun-ZhenXing","email":"1006925066@qq.com","commits":5}]},"readingTime":{"minutes":1.82,"words":545},"filePathRelative":"posts/envs/vscode-cpp-cmake.md","localizedDate":"2022年12月16日","excerpt":"<p>本文介绍 VS Code 配置 C++ CMake 开发环境的方式。</p>\\n","autoDesc":true}');export{V as comp,w as data};
